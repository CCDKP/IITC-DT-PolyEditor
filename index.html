<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
	<title>IITC Draw Tools Poly Converter v.07</title>
	<script type="text/javascript">
	function convert() {
		var polygons = 0;
		var polylines = 0;
		var circles = 0;
		var markers = 0;
		var input = JSON.parse(document.getElementById("datain").value);
		for(var i=0;i<input.length;i++) {
			switch(input[i].type) {
				case "polyline":
					polylines++;
					continue;
				case "circle":
					circles++;
					continue;
				case "marker":
					markers++;
					continue;
				case "polygon":
					polygons++;
					input[i].type = "polyline";
					input[i].latLngs.push(input[i].latLngs[0]);
					continue;
				default:
					continue;
			}
		}
		document.getElementById("outPolylines").innerHTML = polylines;
		document.getElementById("outCircles").innerHTML = circles;
		document.getElementById("outMarkers").innerHTML = markers;
		document.getElementById("outPolygons").innerHTML = polygons;
		document.getElementById("dataout").value = JSON.stringify(input);
	}	
	</script>
</head>
<body>
	<p>This site is intended to remove the fill from polygons exported by the IITC Draw Tools plugin.
	<p>Paste Draw Tools export here:</p>
	<textarea id="datain" rows="20" cols="100"></textarea>
	<br><br>
	<button onclick="convert();">convert</button>
	Polygons: <span id=outPolygons>0</span>
	Polylines: <span id=outPolylines>0</span>
	Markers: <span id=outMarkers>0</span>
	Circles: <span id=outCircles>0</span>
    <br><br>
	Converted Data: <br>
	<textarea id="dataout" rows="20" cols="100"></textarea><br>
	
</body>
</html>